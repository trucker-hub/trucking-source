<br>
<div class="container">

    <tabset type="tabs">

        <tab>
            <tab-heading><span>Loads <span class="badge">{{loads.length}}</span></span></tab-heading>
            <br>
            <div class="row">
                <div class="col-md-3">
                    <button class="btn btn-sm btn-default" type="button" ng-click="newFTLLoad()"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> FTL load</button>
                    <button class="btn btn-sm btn-default" type="button" ng-click="newFreightLoad()"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> LTL load</button>
                    <button class="btn btn-sm btn-default" type="button" ng-click="newAirLoad()"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Air load</button>
                </div>
                <div class="col-md-3"></div>
                <div class="col-md-6">
                    <span class="ac-highlighted">Loads for:</span>
                    <button type="button" class="btn btn-link" ng-click="fetch(1)">Todayâ€˜s</button>
                    <button type="button" class="btn btn-link" ng-click="fetch(3)">Last 3 days </button>
                    <button type="button" class="btn btn-link" ng-click="fetch(7)">Last week</button>
                    <button type="button" class="btn btn-link" ng-click="fetch(-1)">ALL</button>
                </div>
            </div>
            <br>
            <table ng-table="tableParams" show-filter="true" class="table table-responsive table-hover">
                <tr ng-repeat="load in $data">
                    <td><load-type type="load.loadType"></load-type></td>
                    <td data-title="'Consignee'" filter="{ 'who': 'text' }">
                        {{load.who}}
                    </td>
                    <td data-title="'Delivery'">
                        {{load.shipFrom.location | location: true}} <span class="glyphicon glyphicon-arrow-right" aria-hidden="true"></span> {{load.shipTo.location | location: true}}
                    </td>
                    <td data-title="'Delivery By'">
                        {{load.expectedBy | date:'shortDate'}}
                    </td>
                    <td data-title="'Description'">
                        <span>{{load.description}}</span>
                    </td>
                    <td data-title="'Created'">
                        {{load.createdAt | date:'shortDate'}}
                    </td>
                    <td data-title="''">
                        <a ng-click="editLoad(load._id, load.loadType)"><i class="fa fa-pencil-square-o fa-lg"></i></a>
                    </td>
                </tr>
                <tr ng-show="$data.length ==0">
                  <td></td>
                  <td colspan="6"><i class="fa fa-angle-double-right"></i> <b>No Loads found for {{searchCriteria}}</b>. Maybe expand the search time window.</td>
                </tr>
            </table>
        </tab>

        <tab ng-repeat="(id, item) in loadsOpened.ftl" active="item.active">
            <tab-heading><load-type type="item.data.loadType"></load-type>
              <span>{{item.data.who }}</span>&nbsp<a ng-click="closeTab(id, 'FTL')"><i class="fa fa-times fa-lg"></i></a>
            </tab-heading>
            <div ng-include="'app/loads/ftl/ftl.html'" ng-controller="FtlCtrl as ftlCtrl" ng-init="ftlCtrl.init(item.data)"></div>
        </tab>
      <tab ng-repeat="(id, item) in loadsOpened.ltl" active="item.active">
        <tab-heading><load-type type="item.data.loadType"></load-type>
          <span>{{item.data.who }}</span>&nbsp<a ng-click="closeTab(id, 'LTL')"><i class="fa fa-times fa-lg"></i></a></tab-heading>
        <div ng-include="'app/loads/freight/freight.html'" ng-controller="FreightCtrl as freightCtrl" ng-init="freightCtrl.init(item.data)"></div>
      </tab>

</div>
