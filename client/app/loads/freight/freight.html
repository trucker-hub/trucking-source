<form name="freightForm">
  <table class="table">
    <tr>
      <th>To</th>
      <td> <div ng-class="{'has-error':freightForm.shipToAddress.$invalid}">
        <input type="text"
               class="form-control" id="inputLocation" size="20"
               options="autocompleteOptions"
               ng-model="freight.shipTo.location.raw"
               name="shipToAddress"
               ng-minlength="5"
               g-places-autocomplete
               force-selection="true"
               placeholder="Address or ZIP Code" required ng-show="editing" ng-change="changed()">
      </div>
      </td>
      <td>
        <ui-select multiple ng-model="freightCtrl.shipTo.services" ng-change="freightCtrl.change()">
          <ui-select-match placeholder="Select services">{{$item.type}}
          </ui-select-match>
          <ui-select-choices repeat="service in freightCtrl.shipTo.services | propsFilter: {county: $select.search}"
                             refresh="freightCtrl.refreshServices()"
                             refresh-delay="0">
            <div ng-bind-html="service.type | highlight: $select.search"></div>
          </ui-select-choices>
        </ui-select>
      </td>
    </tr>
    <tr>
      <th>From</th>
      <td> <div ng-class="{'has-error':freightForm.shipFromAddress.$invalid}">
        <input type="text"
               class="form-control" size="20"
               options="autocompleteOptions"
               ng-model="freight.shipFrom.location.raw"
               name="shipFromAddress"
               ng-minlength="5"
               g-places-autocomplete
               force-selection="true"
               placeholder="Address or ZIP Code" required ng-show="editing" ng-change="freightCtrl.changed()">
      </div>
      </td>
      <td>
        <ui-select multiple ng-model="freightCtrl.shipTo.services" ng-change="freightCtrl.change()">
          <ui-select-match placeholder="Select services">{{$item.type}}
          </ui-select-match>
          <ui-select-choices repeat="service in freightCtrl.shipTo.services | propsFilter: {county: $select.search}"
                             refresh="freightCtrl.refreshServices()"
                             refresh-delay="0">
            <div ng-bind-html="service.type | highlight: $select.search"></div>
          </ui-select-choices>
        </ui-select>
      </td>
    </tr>

    <tr>
      <th>Consignee</th>
      <td><div class="row ftlPadding" ng-class="{'has-error':freightForm.customerName.$invalid}">
        <div class="col-md-10">
          <input type="text"
                 class="form-control" id="customerName" size="20" name="customerName"
                 ng-model="frightCtrl.who"
                 ng-minlength="5"
                 placeholder="Consignee name" required="">
        </div>
      </div>
      </td>
      <td>
        <div class="row ftlPadding">
          <label for="customerNote" class="col-md-2 control-label">Notes</label>
          <div class="col-md-10">
          <textarea
            class="form-control" id="customerNote" size="20"
            ng-model="ftlCtrl.load.notes"
            rows="4"
            placeholder="Note name"></textarea>
          </div>
        </div>
      </td>
    </tr>

    <tr>
      <th>Expected By</th>
      <td><div style="display:inline-block; min-height:290px;">
        <datepicker ng-model="ftlCtrl.load.expectedBy" min-date="minDate" show-weeks="true" class="well well-sm"
                    custom-class="getDayClass(date, mode)">

        </datepicker>
      </div>
      </td>
      <td>
        <div class="row ftlPadding">
          <label for="customerNote" class="col-md-2 control-label">Notes</label>
          <div class="col-md-10">
          <textarea
            class="form-control" id="customerNote" size="20"
            ng-model="ftlCtrl.load.notes"
            rows="4"
            placeholder="Note name"></textarea>
          </div>
        </div>
      </td>
    </tr>


  </table>

  <div class="row container table-responsive">
    <form class="form-inline">
      <table class="table table-striped">
        <tr>
          <th class="col-md-2">Total Weight (lbs)</th>
          <th class="col-md-1">Quantiy</th>
          <th class="col-md-2">Packaging</th>
          <th class="col-md-3">L/W/H(in)</th>
          <th class="col-md-3">Description</th>
          <th class="col-md-1"><span class="glyphicon glyphicon-plus" aria-hidden="true"
                                     ng-click="ftlCtrl.addLine()"></span></th>
        </tr>
        <tr ng-repeat="line in ftlCtrl.load.lines track by $index">
          <form name="innerForm" novalidate>
            <td><div class="form-group" ng-class="{'has-error':innerForm.weight.$invalid}">
              <input type="number" class="form-control" size="6" ng-model="line.weight" name="weight"
                     placeholder="weight" required min="100"></div></td>
            <td><div ng-class="{'has-error':innerForm.quantity.$invalid}">
              <input class="form-control" type="number" size="3" ng-model="line.quantity" min="1" name="quantity" required>
            </div>
            </td>
            <td>
              <select class="form-control" ng-model="line.packaging" id="">
                <option value="">-- Packaging --</option>
                <option ng-repeat="packaging in ftlCtrl.packagings">{{packaging}}</option>
              </select>
            </td>
            <td>
              <input class="form-control" type="text" ng-model="line.length" size="2" min="1">
              <input class="form-control" type="text" ng-model="line.width"  size="2" min="1">
              <input class="form-control" type="text" ng-model="line.height" size="2" min="1">
            </td>
            <td><input class="form-control" type="text" ng-model="line.description" placeholder="description"></td>
            <td><span class="glyphicon glyphicon-remove" aria-hidden="true" ng-click="ftlCtrl.removeLine($index)"></span>
            </td>
          </form>
        </tr>
      </table>
    </form>
  </div>
  <div class="row">
    <div class="col-md-3">
      <button style="float:left" ng-hide="ftlCtrl.isNew()" class="btn btn-sm btn-danger" type="button" ng-click="ftlCtrl.delete()">DELETE</button>
    </div>
    <div class="col-md-9">
      <button style="float:left" class="btn btn-sm btn-warning" type="button" ng-click="ftlCtrl.close()">Close</button>
      <button style="float:right" class="btn btn-sm btn-primary" type="button" ng-disabled="locationForm.$invalid" ng-click="ftlCtrl.submit()">Submit</button>
    </div>
  </div>
  <div>
  </div>
</form>
